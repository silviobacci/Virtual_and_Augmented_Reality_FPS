function player::change_weapon(new_weapon){
	if(current_weapon != null)
		obj_player_upper.RemoveChild(current_weapon.obj_gun);
	current_weapon = new_weapon;
	obj_player_upper.AddChild(current_weapon.obj_gun);
}

function player::shoot(){
	var direction = CameraGetCurrent().GetDirection();
	//current_weapon.shoot(position, CameraGetCurrent().GetDirection());
	direction = [direction.x, asin(direction.y), direction.z];
	current_weapon.shoot(position, direction);
}